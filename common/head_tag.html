<script type="module">
  import Keycloak from "https://cdn.jsdelivr.net/npm/keycloak-js@26.0.5/lib/keycloak.js";
  const keycloak = new Keycloak({
    url: "https://hub.earthcode.eox.at/auth",
    realm: "nebari",
    clientId: "discourse",
  });
  try {
    const authenticated = await keycloak.init({
      onLoad: "check-sso",
    });
    if (authenticated) {
      console.log("User is authenticated");
    } else {
      console.log("User is not authenticated");
    }
  } catch (error) {
    console.error("Failed to initialize adapter:", error);
  }
</script>
